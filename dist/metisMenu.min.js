/*
 * metismenu - v2.5.0-dev
 * A jQuery menu plugin
 * https://github.com/onokumus/metisMenu#readme
 *
 * Made by Osman Nuri Okumu≈ü <onokumus@gmail.com> (https://github.com/onokumus)
 * Under MIT License
 */

"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),MetisMenu=function(a){function b(){var a=document.createElement("mm"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}var c="metisMenu",d="metisMenu",e=a.fn[c],f=350,g={toggle:!0,doubleTapToGo:!1,preventDefault:!0,activeClass:"active",collapseClass:"collapse",collapseInClass:"in",collapsingClass:"collapsing",onTransitionStart:!1,onTransitionEnd:!1},h=function(){function b(a,c){_classCallCheck(this,b),this._element=a,this._config=this._getConfig(c),this._transitioning=null,this.init()}return _createClass(b,[{key:"init",value:function(){var b=this;a(this._element).find("li."+this._config.activeClass).has("ul").children("ul").attr("aria-expanded",!0).addClass(this._config.collapseClass+" "+this._config.collapseInClass),a(this._element).find("li").not("."+this._config.activeClass).has("ul").children("ul").attr("aria-expanded",!1).addClass(this._config.collapseClass),this._config.doubleTapToGo&&a(this._element).find("li."+this._config.activeClass).has("ul").children("a").addClass("doubleTapToGo"),a(this._element).find("li").has("ul").children("a").on("click.metisMenu",function(c){var d=a(this),e=d.parent("li"),f=e.children("ul");return b._config.preventDefault&&c.preventDefault(),"true"!==d.attr("aria-disabled")?(e.hasClass(b._config.activeClass)&&!b._config.doubleTapToGo?(d.attr("aria-expanded",!1),b._hide(f)):(b._show(f),d.attr("aria-expanded",!0)),b._config.onTransitionStart&&b._config.onTransitionStart(c),b._config.doubleTapToGo&&b._doubleTapToGo(d)&&"#"!==d.attr("href")&&""!==d.attr("href")?(c.stopPropagation(),void(document.location=d.attr("href"))):void 0):void 0})}},{key:"_show",value:function(b){var c=a(b);if(!this._transitioning&&!a(b).hasClass(this._config.collapsingClass)){a(b).parent("li").addClass(this._config.activeClass),this._config.toggle&&this._hide(a(b).parent("li").siblings().children("ul."+this._config.collapseInClass).attr("aria-expanded",!1)),a(b).removeClass(this._config.collapseClass).addClass(this._config.collapsingClass).height(0),this._transitioning=1;var d=function(){this._transitioning&&this._config.onTransitionEnd&&this._config.onTransitionEnd(),c.removeClass(this._config.collapsingClass).addClass(this._config.collapseClass+" "+this._config.collapseInClass).height("").attr("aria-expanded",!0),this._transitioning=0};return i?void c.height(c[0].scrollHeight).one("mmTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(f):d.call(this)}}},{key:"_hide",value:function(b){if(!this._transitioning&&a(b).hasClass(this._config.collapseInClass)){var c=a(b);a(b).parent("li").removeClass(this._config.activeClass),c.height(c.height())[0].offsetHeight,a(b).addClass(this._config.collapsingClass).removeClass(this._config.collapseClass).removeClass(this._config.collapseInClass),this._transitioning=1;var d=function(){this._transitioning&&this._config.onTransitionEnd&&this._config.onTransitionEnd(),this._transitioning=0,c.removeClass(this._config.collapsingClass).addClass(this._config.collapseClass).attr("aria-expanded",!1)};return i?void a(b).height(0).one("mmTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(f):d.call(this)}}},{key:"_doubleTapToGo",value:function(b){return b.hasClass("doubleTapToGo")?(b.removeClass("doubleTapToGo"),!0):b.parent().children("ul").length?(a(this._element).find(".doubleTapToGo").removeClass("doubleTapToGo"),b.addClass("doubleTapToGo"),!1):void 0}},{key:"_getConfig",value:function(b){return b=a.extend({},g,b)}}],[{key:"_jQueryInterface",value:function(c){return this.each(function(){var e=a(this),f=e.data(d),h=a.extend({},g,e.data(),"object"===("undefined"==typeof c?"undefined":_typeof(c))&&c);if(f||(f=new b(this,h),e.data(d,f)),"string"==typeof c){if(void 0===f[c])throw new Error('No method named "'+c+'"');f[c]()}})}}]),b}();a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("mmTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(i.end)};return setTimeout(e,b),this};var i=b();return i&&(a.event.special.mmTransitionEnd={bindType:i.end,delegateType:i.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}}),a.fn[c]=h._jQueryInterface,a.fn[c].Constructor=h,a.fn[c].noConflict=function(){return a.fn[c]=e,h._jQueryInterface},h}(jQuery);