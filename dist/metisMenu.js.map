{"version":3,"sources":["../src/metisMenu.js"],"names":[],"mappings":"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","file":"metisMenu.js","sourcesContent":["const MetisMenu = (($) => {\n\n  const NAME = 'metisMenu';\n  const DATA_KEY = 'metisMenu';\n  const EVENT_KEY = `.${DATA_KEY}`;\n  const DATA_API_KEY = '.data-api';\n  const JQUERY_NO_CONFLICT = $.fn[NAME];\n  const TRANSITION_DURATION = 350;\n\n  const Default = {\n    toggle: true,\n    doubleTapToGo: false,\n    preventDefault: true,\n    activeClass: 'active',\n    collapseClass: 'collapse',\n    collapseInClass: 'in',\n    collapsingClass: 'collapsing',\n    onTransitionStart: false,\n    onTransitionEnd: false\n  }\n\n  const Event = {\n    SHOW: `show${EVENT_KEY}`,\n    SHOWN: `shown${EVENT_KEY}`,\n    HIDE: `hide${EVENT_KEY}`,\n    HIDDEN: `hidden${EVENT_KEY}`,\n    CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`\n  }\n\n  class MetisMenu {\n    constructor(element, config) {\n      this._element = element;\n      this._config = this._getConfig(config);\n      this._transitioning = null;\n\n      this.init();\n    }\n    init() {\n      let self = this;\n      $(this._element)\n        .find('li.' + this._config.activeClass)\n        .has('ul')\n        .children('ul')\n        .attr('aria-expanded', true)\n        .addClass(this._config.collapseClass + ' ' + this._config.collapseInClass);\n\n      $(this._element)\n        .find('li')\n        .not('.' + this._config.activeClass)\n        .has('ul')\n        .children('ul')\n        .attr('aria-expanded', false)\n        .addClass(this._config.collapseClass);\n\n      //add the 'doubleTapToGo' class to active items if needed\n      if (this._config.doubleTapToGo) {\n        $(this._element)\n          .find('li.' + this._config.activeClass)\n          .has('ul')\n          .children('a')\n          .addClass('doubleTapToGo');\n      }\n      $(this._element)\n        .find('li')\n        .has('ul')\n        .children('a')\n        .on('click.metisMenu', function(e) {\n          var _this = $(this);\n          var _parent = _this.parent('li');\n          var _list = _parent.children('ul');\n          if (self._config.preventDefault) {\n            e.preventDefault();\n          }\n          if (_this.attr('aria-disabled') === 'true') {\n            return;\n          }\n          if (_parent.hasClass(self._config.activeClass) && !self._config.doubleTapToGo) {\n            _this.attr('aria-expanded', false);\n            self._hide(_list);\n\n          } else {\n            self._show(_list);\n            _this.attr('aria-expanded', true);\n          }\n\n          if (self._config.onTransitionStart) {\n            self._config.onTransitionStart(e);\n          }\n\n          //Do we need to enable the double tap\n          if (self._config.doubleTapToGo) {\n            //if we hit a second time on the link and the href is valid, navigate to that url\n            if (self._doubleTapToGo(_this) && _this.attr('href') !== '#' && _this.attr('href') !== '') {\n              e.stopPropagation();\n              document.location = _this.attr('href');\n              return;\n            }\n          }\n        });\n\n    }\n\n    _show(element) {\n      let _this = $(element);\n      if (this._transitioning || $(element).hasClass(this._config.collapsingClass)) {\n        return;\n      }\n\n      $(element)\n        .parent('li')\n        .addClass(this._config.activeClass);\n\n\n      if (this._config.toggle) {\n        this.\n        _hide($(element)\n          .parent('li')\n          .siblings()\n          .children('ul.' + this._config.collapseInClass).attr('aria-expanded', false));\n      }\n\n      $(element)\n        .removeClass(this._config.collapseClass)\n        .addClass(this._config.collapsingClass)\n        .height(0);\n\n      this._transitioning = 1;\n\n      let complete = function() {\n        if (this._transitioning && this._config.onTransitionEnd) {\n          this._config.onTransitionEnd();\n        }\n        _this\n          .removeClass(this._config.collapsingClass)\n          .addClass(this._config.collapseClass + ' ' + this._config.collapseInClass)\n          .height('')\n          .attr('aria-expanded', true);\n\n        this._transitioning = 0;\n      };\n      if (!$transition) {\n        return complete.call(this);\n      }\n      _this\n      .height(_this[0].scrollHeight)\n        .one('mmTransitionEnd', $.proxy(complete, this))\n        .emulateTransitionEnd(TRANSITION_DURATION);\n\n    }\n\n    _hide(element) {\n\n      if (this._transitioning || !$(element).hasClass(this._config.collapseInClass)) {\n        return;\n      }\n\n      let _this = $(element);\n      $(element).parent('li').removeClass(this._config.activeClass);\n      _this.height(_this.height())[0].offsetHeight;\n\n      $(element)\n        .addClass(this._config.collapsingClass)\n        .removeClass(this._config.collapseClass)\n        .removeClass(this._config.collapseInClass);\n\n      this._transitioning = 1;\n\n      let complete = function() {\n        if (this._transitioning && this._config.onTransitionEnd) {\n          this._config.onTransitionEnd();\n        }\n\n        this._transitioning = 0;\n        _this\n          .removeClass(this._config.collapsingClass)\n          .addClass(this._config.collapseClass)\n          .attr('aria-expanded', false);\n\n      };\n\n      if (!$transition) {\n        return complete.call(this);\n      }\n\n      $(element)\n        .height(0)\n        .one('mmTransitionEnd', $.proxy(complete, this))\n        .emulateTransitionEnd(TRANSITION_DURATION);\n    }\n\n    _doubleTapToGo(element) {\n      if (element.hasClass('doubleTapToGo')) {\n        element.removeClass('doubleTapToGo');\n        return true;\n      }\n      if (element.parent().children('ul').length) {\n        $(this._element)\n          .find('.doubleTapToGo')\n          .removeClass('doubleTapToGo');\n\n        element.addClass('doubleTapToGo');\n        return false;\n      }\n    }\n\n    _getConfig(config) {\n      config = $.extend({}, Default, config);\n      return config\n    }\n\n    static _jQueryInterface(config) {\n      return this.each(function() {\n        let $this = $(this)\n        let data = $this.data(DATA_KEY)\n        let _config = $.extend({},\n          Default,\n          $this.data(),\n          typeof config === 'object' && config\n        )\n\n\n        if (!data) {\n          data = new MetisMenu(this, _config)\n          $this.data(DATA_KEY, data)\n        }\n\n        if (typeof config === 'string') {\n          if (data[config] === undefined) {\n            throw new Error(`No method named \"${config}\"`)\n          }\n          data[config]()\n        }\n      })\n    }\n  }\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n  function transitionEnd() {\n    var el = document.createElement('mm');\n\n    var transEndEventNames = {\n      WebkitTransition: 'webkitTransitionEnd',\n      MozTransition: 'transitionend',\n      OTransition: 'oTransitionEnd otransitionend',\n      transition: 'transitionend'\n    };\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return {\n          end: transEndEventNames[name]\n        };\n      }\n    }\n    return false;\n  }\n\n  $.fn.emulateTransitionEnd = function(duration) {\n    var called = false;\n    var $el = this;\n    $(this).one('mmTransitionEnd', function() {\n      called = true;\n    });\n    var callback = function() {\n      if (!called) {\n        $($el).trigger($transition.end);\n      }\n    };\n    setTimeout(callback, duration);\n    return this;\n  };\n\n  var $transition = transitionEnd();\n  if (!!$transition) {\n    $.event.special.mmTransitionEnd = {\n      bindType: $transition.end,\n      delegateType: $transition.end,\n      handle: function(e) {\n        if ($(e.target).is(this)) {\n          return e.\n          handleObj.\n          handler.\n          apply(this, arguments);\n        }\n      }\n    };\n  }\n\n  $.fn[NAME] = MetisMenu._jQueryInterface;\n  $.fn[NAME].Constructor = MetisMenu;\n  $.fn[NAME].noConflict = function() {\n    $.fn[NAME] = JQUERY_NO_CONFLICT;\n    return MetisMenu._jQueryInterface;\n  }\n  return MetisMenu;\n\n})(jQuery);\n"]}